Version 4
SHEET 1 1156 996
WIRE 560 -560 -576 -560
WIRE 544 -544 -560 -544
WIRE 528 -528 -464 -528
WIRE 112 -480 -544 -480
WIRE 160 -480 112 -480
WIRE 256 -480 240 -480
WIRE 112 -464 112 -480
WIRE 256 -416 256 -480
WIRE 384 -416 368 -416
WIRE 480 -416 464 -416
WIRE 528 -384 528 -528
WIRE 528 -384 416 -384
WIRE 272 -368 256 -368
WIRE 368 -368 368 -416
WIRE 368 -368 352 -368
WIRE 112 -352 112 -384
WIRE 112 -352 -32 -352
WIRE 240 -352 112 -352
WIRE 416 -352 416 -384
WIRE 368 -336 368 -368
WIRE 384 -336 368 -336
WIRE -128 -320 -320 -320
WIRE -32 -320 -32 -352
WIRE 112 -320 112 -352
WIRE 480 -320 480 -416
WIRE 480 -320 448 -320
WIRE 544 -320 544 -544
WIRE 544 -320 480 -320
WIRE -464 -304 -464 -528
WIRE -384 -304 -464 -304
WIRE -192 -304 -256 -304
WIRE 384 -304 368 -304
WIRE 0 -272 -32 -272
WIRE 240 -272 240 -352
WIRE 272 -272 240 -272
WIRE 368 -272 368 -304
WIRE 368 -272 352 -272
WIRE 416 -272 416 -288
WIRE 496 -272 416 -272
WIRE -464 -256 -464 -304
WIRE -432 -256 -464 -256
WIRE -384 -256 -384 -304
WIRE -320 -256 -320 -320
WIRE -320 -256 -336 -256
WIRE -304 -256 -320 -256
WIRE -256 -256 -256 -304
WIRE -192 -256 -192 -304
WIRE -192 -256 -208 -256
WIRE -160 -256 -192 -256
WIRE -128 -240 -128 -320
WIRE -80 -240 -128 -240
WIRE 368 -240 368 -272
WIRE 384 -240 368 -240
WIRE 496 -240 496 -272
WIRE 496 -240 464 -240
WIRE 112 -224 112 -256
WIRE 496 -224 496 -240
WIRE -464 -208 -464 -256
WIRE -464 -208 -608 -208
WIRE -32 -208 -32 -224
WIRE 0 -208 0 -272
WIRE 0 -208 -32 -208
WIRE -352 -192 -352 -208
WIRE -288 -192 -352 -192
WIRE -224 -192 -224 -208
WIRE -224 -192 -288 -192
WIRE -160 -192 -160 -256
WIRE 240 -192 240 -272
WIRE 704 -192 240 -192
WIRE -464 -176 -464 -208
WIRE 144 -176 112 -176
WIRE -544 -160 -544 -480
WIRE -496 -160 -544 -160
WIRE -288 -144 -288 -192
WIRE -288 -144 -432 -144
WIRE 64 -144 -288 -144
WIRE 384 -144 368 -144
WIRE 480 -144 464 -144
WIRE -560 -128 -560 -544
WIRE -496 -128 -560 -128
WIRE -32 -112 -32 -208
WIRE 112 -112 112 -128
WIRE 112 -112 -32 -112
WIRE 144 -112 144 -176
WIRE 144 -112 112 -112
WIRE 256 -112 256 -368
WIRE 256 -112 144 -112
WIRE 528 -112 528 -384
WIRE 528 -112 416 -112
WIRE -464 -96 -464 -112
WIRE -464 -96 -496 -96
WIRE -128 -96 -320 -96
WIRE -32 -96 -32 -112
WIRE 112 -96 112 -112
WIRE 368 -96 368 -144
WIRE 368 -96 352 -96
WIRE -384 -80 -464 -80
WIRE -192 -80 -256 -80
WIRE 416 -80 416 -112
WIRE -496 -64 -496 -96
WIRE 368 -64 368 -96
WIRE 384 -64 368 -64
WIRE 0 -48 -32 -48
WIRE 272 -48 272 -96
WIRE 272 -48 240 -48
WIRE 480 -48 480 -144
WIRE 480 -48 448 -48
WIRE 560 -48 560 -560
WIRE 560 -48 480 -48
WIRE -464 -32 -464 -80
WIRE -432 -32 -464 -32
WIRE -384 -32 -384 -80
WIRE -320 -32 -320 -96
WIRE -320 -32 -336 -32
WIRE -304 -32 -320 -32
WIRE -256 -32 -256 -80
WIRE -192 -32 -192 -80
WIRE -192 -32 -208 -32
WIRE -160 -32 -192 -32
WIRE 384 -32 368 -32
WIRE -128 -16 -128 -96
WIRE -80 -16 -128 -16
WIRE 112 0 112 -32
WIRE 256 0 256 -112
WIRE 272 0 256 0
WIRE 368 0 368 -32
WIRE 368 0 352 0
WIRE 416 0 416 -16
WIRE 496 0 416 0
WIRE -32 16 -32 0
WIRE 0 16 0 -48
WIRE 0 16 -32 16
WIRE -608 32 -608 -208
WIRE -608 32 -672 32
WIRE -464 32 -464 -32
WIRE -464 32 -608 32
WIRE -352 32 -352 16
WIRE -288 32 -352 32
WIRE -224 32 -224 16
WIRE -224 32 -288 32
WIRE -160 32 -160 -32
WIRE 368 32 368 0
WIRE 384 32 368 32
WIRE 496 32 496 0
WIRE 496 32 464 32
WIRE 704 32 704 -192
WIRE -464 48 -464 32
WIRE 144 48 112 48
WIRE 496 48 496 32
WIRE -544 64 -544 -160
WIRE -496 64 -544 64
WIRE -288 80 -288 32
WIRE -288 80 -432 80
WIRE 64 80 -288 80
WIRE -576 96 -576 -560
WIRE -496 96 -576 96
WIRE -32 112 -32 16
WIRE 112 112 112 96
WIRE 112 112 -32 112
WIRE 144 112 144 48
WIRE 144 112 112 112
WIRE 240 112 240 -48
WIRE 240 112 144 112
WIRE -672 128 -672 32
WIRE -464 128 -464 112
WIRE -464 128 -496 128
WIRE -112 128 -320 128
WIRE 112 128 112 112
WIRE 384 128 368 128
WIRE 480 128 464 128
WIRE -384 144 -464 144
WIRE -192 144 -256 144
WIRE -496 160 -496 128
WIRE 528 160 528 -112
WIRE 528 160 416 160
WIRE 704 160 704 112
WIRE -32 176 -32 112
WIRE 272 176 256 176
WIRE 368 176 368 128
WIRE 368 176 352 176
WIRE -464 192 -464 144
WIRE -432 192 -464 192
WIRE -384 192 -384 144
WIRE -320 192 -320 128
WIRE -320 192 -336 192
WIRE -304 192 -320 192
WIRE -256 192 -256 144
WIRE -192 192 -192 144
WIRE -192 192 -208 192
WIRE -160 192 -192 192
WIRE 416 192 416 160
WIRE 368 208 368 176
WIRE 384 208 368 208
WIRE -608 224 -608 32
WIRE -464 224 -464 192
WIRE -464 224 -608 224
WIRE 0 224 -32 224
WIRE 112 224 112 192
WIRE 256 224 256 176
WIRE 256 224 224 224
WIRE 480 224 480 128
WIRE 480 224 448 224
WIRE 560 224 480 224
WIRE -672 240 -672 208
WIRE 384 240 368 240
WIRE -352 256 -352 240
WIRE -288 256 -352 256
WIRE -224 256 -224 240
WIRE -224 256 -288 256
WIRE -160 256 -160 192
WIRE -112 256 -112 128
WIRE -80 256 -112 256
WIRE -464 272 -464 224
WIRE 144 272 112 272
WIRE 240 272 240 112
WIRE 272 272 240 272
WIRE 368 272 368 240
WIRE 368 272 352 272
WIRE 416 272 416 256
WIRE 496 272 416 272
WIRE -544 288 -544 64
WIRE -496 288 -544 288
WIRE -32 288 -32 272
WIRE 0 288 0 224
WIRE 0 288 -32 288
WIRE -288 304 -288 256
WIRE -288 304 -432 304
WIRE 64 304 -288 304
WIRE 368 304 368 272
WIRE 384 304 368 304
WIRE 496 304 496 272
WIRE 496 304 464 304
WIRE -496 320 -576 320
WIRE 496 320 496 304
WIRE -32 336 -32 288
WIRE 112 336 112 320
WIRE 112 336 -32 336
WIRE 144 336 144 272
WIRE 144 336 112 336
WIRE 224 336 224 224
WIRE 224 336 144 336
WIRE 240 336 224 336
WIRE -464 352 -464 336
WIRE -464 352 -496 352
WIRE -112 352 -320 352
WIRE 112 352 112 336
WIRE -384 368 -464 368
WIRE -192 368 -256 368
WIRE -496 400 -496 352
WIRE -32 400 -32 336
WIRE 384 400 368 400
WIRE 480 400 464 400
WIRE -464 416 -464 368
WIRE -432 416 -464 416
WIRE -384 416 -384 368
WIRE -320 416 -320 352
WIRE -320 416 -336 416
WIRE -304 416 -320 416
WIRE -256 416 -256 368
WIRE -192 416 -192 368
WIRE -192 416 -208 416
WIRE -160 416 -192 416
WIRE 528 432 528 160
WIRE 528 432 416 432
WIRE -608 448 -608 224
WIRE -464 448 -464 416
WIRE -464 448 -608 448
WIRE 0 448 -32 448
WIRE 112 448 112 416
WIRE 272 448 256 448
WIRE 368 448 368 400
WIRE 368 448 352 448
WIRE 416 464 416 432
WIRE -352 480 -352 464
WIRE -288 480 -352 480
WIRE -224 480 -224 464
WIRE -224 480 -288 480
WIRE -160 480 -160 416
WIRE -112 480 -112 352
WIRE -80 480 -112 480
WIRE 368 480 368 448
WIRE 384 480 368 480
WIRE -464 496 -464 448
WIRE 144 496 112 496
WIRE 256 496 256 448
WIRE 256 496 208 496
WIRE 480 496 480 400
WIRE 480 496 448 496
WIRE 544 496 480 496
WIRE -544 512 -544 288
WIRE -496 512 -544 512
WIRE -32 512 -32 496
WIRE 0 512 0 448
WIRE 0 512 -32 512
WIRE 384 512 368 512
WIRE -288 528 -288 480
WIRE -288 528 -432 528
WIRE 64 528 -288 528
WIRE -496 544 -560 544
WIRE 240 544 240 336
WIRE 272 544 240 544
WIRE 368 544 368 512
WIRE 368 544 352 544
WIRE 416 544 416 528
WIRE 496 544 416 544
WIRE -32 560 -32 512
WIRE 112 560 112 544
WIRE 112 560 -32 560
WIRE 144 560 144 496
WIRE 144 560 112 560
WIRE 208 560 208 496
WIRE 208 560 144 560
WIRE -464 576 -464 560
WIRE 112 576 112 560
WIRE 368 576 368 544
WIRE 384 576 368 576
WIRE 496 576 496 544
WIRE 496 576 464 576
WIRE 496 592 496 576
WIRE -560 624 -560 544
WIRE 544 624 544 496
WIRE 544 624 -560 624
WIRE -576 640 -576 320
WIRE 560 640 560 224
WIRE 560 640 -576 640
FLAG 112 576 0
FLAG -160 480 0
FLAG -160 256 0
FLAG -160 32 0
FLAG -160 -192 0
FLAG 256 -416 0
FLAG -496 -64 0
FLAG -496 160 0
FLAG -496 400 0
FLAG -464 576 0
FLAG 496 -224 0
FLAG 496 48 0
FLAG 496 320 0
FLAG 496 592 0
FLAG 704 160 0
FLAG -672 240 0
SYMBOL Misc\\cell 112 128 R0
SYMATTR InstName Vcell2
SYMBOL Misc\\cell 112 -320 R0
SYMATTR InstName Vcell4
SYMBOL Misc\\cell 112 352 R0
SYMATTR InstName Vcell1
SYMBOL Misc\\cell 112 -96 R0
SYMATTR InstName Vcell3
SYMBOL nmos4 64 224 R0
WINDOW 3 -79 97 Left 2
SYMATTR Value VDMOS
SYMATTR InstName M2
SYMBOL nmos4 64 0 R0
WINDOW 3 -79 49 Left 2
SYMATTR Value VDMOS
SYMATTR InstName M3
SYMBOL nmos4 64 -224 R0
WINDOW 3 -77 48 Left 2
SYMATTR Value VDMOS
SYMATTR InstName M4
SYMBOL nmos4 -80 -96 R0
WINDOW 3 63 0 Left 2
SYMATTR Value VDMOS
SYMATTR InstName Mb3
SYMBOL nmos4 -80 176 R0
WINDOW 3 61 0 Left 2
SYMATTR Value VDMOS
SYMATTR InstName Mb2
SYMBOL nmos4 -80 400 R0
WINDOW 3 58 1 Left 2
SYMATTR Value VDMOS
SYMATTR InstName Mb1
SYMBOL nmos4 64 448 R0
WINDOW 3 -80 96 Left 2
SYMATTR Value VDMOS
SYMATTR InstName M1
SYMBOL nmos4 -80 -320 R0
WINDOW 3 61 -2 Left 2
SYMATTR Value VDMOS
SYMATTR InstName Mb4
SYMBOL Opamps\\opamp2 -464 464 R0
WINDOW 0 -69 30 Left 2
WINDOW 3 40 45 Left 2
SYMATTR InstName U1
SYMATTR Value opamp
SYMBOL nmos4 -304 464 R270
WINDOW 0 72 -2 VRight 2
WINDOW 3 133 38 VRight 2
SYMATTR InstName M6
SYMBOL pmos4 -432 464 R270
WINDOW 0 70 -5 VRight 2
WINDOW 3 131 5 VRight 2
SYMATTR InstName M5
SYMBOL nmos4 -304 240 R270
WINDOW 0 73 -1 VRight 2
WINDOW 3 132 48 VRight 2
SYMATTR InstName M7
SYMBOL pmos4 -432 240 R270
WINDOW 0 72 -6 VRight 2
WINDOW 3 130 8 VRight 2
SYMATTR InstName M8
SYMBOL nmos4 -304 16 R270
WINDOW 0 72 4 VRight 2
WINDOW 3 129 49 VRight 2
SYMATTR InstName M9
SYMBOL pmos4 -432 16 R270
WINDOW 0 72 -10 VRight 2
WINDOW 3 123 0 VRight 2
SYMATTR InstName M10
SYMBOL nmos4 -304 -208 R270
WINDOW 0 69 -5 VRight 2
WINDOW 3 127 29 VRight 2
SYMATTR InstName M11
SYMBOL pmos4 -432 -208 R270
WINDOW 0 71 -9 VRight 2
WINDOW 3 124 2 VRight 2
SYMATTR InstName M12
SYMBOL Opamps\\opamp2 -464 240 R0
WINDOW 0 -67 34 Left 2
WINDOW 3 33 43 Left 2
SYMATTR InstName U2
SYMATTR Value opamp
SYMBOL Opamps\\opamp2 -464 16 R0
WINDOW 0 -68 30 Left 2
WINDOW 3 35 46 Left 2
SYMATTR InstName U3
SYMATTR Value opamp
SYMBOL Opamps\\opamp2 -464 -208 R0
WINDOW 0 -69 29 Left 2
WINDOW 3 30 44 Left 2
SYMATTR InstName U4
SYMATTR Value opamp
SYMBOL res 96 -480 R0
WINDOW 3 -139 53 Left 2
SYMATTR Value r*(#cells-1)
SYMATTR InstName R1
SYMBOL res 256 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMBOL Opamps\\opamp2 416 -384 R0
WINDOW 3 25 78 Left 2
SYMATTR Value opamp
SYMATTR InstName U5
SYMBOL res 368 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMBOL res 368 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMBOL res 480 -256 R90
WINDOW 0 58 86 VBottom 2
WINDOW 3 31 36 VTop 2
SYMATTR InstName R5
SYMBOL res 480 -432 R90
WINDOW 0 -4 86 VBottom 2
WINDOW 3 -31 40 VTop 2
SYMATTR InstName R6
SYMBOL Opamps\\opamp2 416 -112 R0
WINDOW 3 25 76 Left 2
SYMATTR Value opamp
SYMATTR InstName U6
SYMBOL res 368 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMBOL res 368 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMBOL res 480 16 R90
WINDOW 0 58 86 VBottom 2
WINDOW 3 31 36 VTop 2
SYMATTR InstName R9
SYMBOL res 480 -160 R90
WINDOW 0 -4 86 VBottom 2
WINDOW 3 -31 40 VTop 2
SYMATTR InstName R10
SYMBOL Opamps\\opamp2 416 160 R0
WINDOW 3 32 75 Left 2
SYMATTR Value opamp
SYMATTR InstName U7
SYMBOL res 368 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMBOL res 368 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMBOL res 480 288 R90
WINDOW 0 58 86 VBottom 2
WINDOW 3 31 36 VTop 2
SYMATTR InstName R13
SYMBOL res 480 112 R90
WINDOW 0 -4 86 VBottom 2
WINDOW 3 -31 40 VTop 2
SYMATTR InstName R14
SYMBOL Opamps\\opamp2 416 432 R0
WINDOW 3 27 76 Left 2
SYMATTR Value opamp
SYMATTR InstName U8
SYMBOL res 368 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMBOL res 368 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMBOL res 480 560 R90
WINDOW 0 58 86 VBottom 2
WINDOW 3 31 36 VTop 2
SYMATTR InstName R17
SYMBOL res 480 384 R90
WINDOW 0 -4 86 VBottom 2
WINDOW 3 -31 40 VTop 2
SYMATTR InstName R18
SYMBOL res 688 16 R0
SYMATTR InstName Rload
SYMATTR Value Rl
SYMBOL voltage -672 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 6 102 Left 2
SYMATTR InstName V1
SYMATTR Value Vdd
